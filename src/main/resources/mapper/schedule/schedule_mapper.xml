<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC   "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd"
>

<mapper namespace="com.fitmate.schedule.dao.ScheduleDAO">
    <select id="getEvents" resultType="Map">
        SELECT DISTINCT date FROM schedule s
    </select>

    <select id="getJournal" resultType="Map">
        SELECT journal_cate, journal_content, date,time(journal_start) , time(journal_end) FROM schedule where user_id = #{id} AND date = #{date};
    </select>
    
    
    <insert id="schedule_write"
            useGeneratedKeys="true"
            keyColumn="journal_idx"
            keyProperty="journal_idx"
            parameterType="com.fitmate.schedule.dto.ScheduleDTO">
        INSERT into schedule (user_id,journal_cate,journal_content, date,journal_start, journal_end)
        values(#{user_id},#{journal_cate},#{journal_content},#{date},#{journal_start},#{journal_end});
    </insert>

    <insert id="filewrite">
        INSERT INTO board_file (category_idx,ori_filename,new_filename,board_idx)
        VALUES ('1',#{ori_filename}, #{new_filename}, #{idx})
    </insert>

    <select id="getCrewEvents" resultType="Map">
        SELECT DISTINCT plan_date FROM crew_plan cp
    </select>






</mapper>